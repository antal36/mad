<!DOCTYPE html>
<html>
<head>
    <title>Algorithm Performance</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load("current", {packages:["corechart"]});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Metric', 'Percentage'],
                ['Correctly Classified', {{ performance * 100 }}],
                ['Incorrectly Classified', 100 - {{ performance * 100 }}]
            ]);

            var options = {
                title: 'Performance of {{ algorithm_name }}',
                is3D: true,
                pieSliceText: 'percentage',
                slices: {
                    0: { color: '#4285F4' },
                    1: { color: '#DB4437' }
                }
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
            chart.draw(data, options);
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>Performance of {{ algorithm_name }}</h1>
        <p class="description">This chart illustrates the performance of the {{ algorithm_name }} algorithm on the selected dataset. It shows the proportion of correctly and incorrectly classified instances, providing insight into the model's accuracy. The blue section represents the correctly classified instances, while the red section represents the incorrectly classified instances.</p>
        <div class="chart-container">
            <div id="piechart_3d" style="width: 700px; height: 500px;"></div>
        </div>
        <form method="post">
            <h2>Select Another Algorithm to Compare:</h2>
            <select name="second_algorithm">
                {% for key in algorithms %}
                {% if key != algorithm_name %}
                <option value="{{ key }}">{{ key }}</option>
                {% endif %}
                {% endfor %}
            </select>
            <input type="submit" value="Compare">
        </form>
        <a href="{{ url_for('index') }}" class="back-link">Back to datasets</a>
    </div>
</body>
</html>
